{"version":3,"sources":["App.js","helpers/Utils.js","components/Miscellaneous.js"],"names":["ViewMain","React","lazy","ViewAuth","ViewError","ViewApp","AuthRoute","Component","component","token","rest","render","props","to","pathname","state","from","location","App","componentDidMount","getLaboratoryTests","refreshUser","socket","on","direction","defaultDirection","localStorage","getItem","localValue","isRtl","getDirection","document","body","classList","add","remove","off","this","className","fallback","path","exact","PureComponent","mapActionToProps","getUsers","connect","auth","ToastifyContainer","autoClose","closeOnClick","draggable","hideProgressBar","newestOnTop","pauseOnFocusLoss","pauseOnHover","position","rtl","transition","Flip","LoadingSpinner"],"mappings":"uRAaMA,EAAWC,IAAMC,MAAK,kBAAM,mCAC5BC,EAAWF,IAAMC,MAAK,kBAAM,yDAC5BE,EAAYH,IAAMC,MAAK,kBAAM,gEAC7BG,EAAUJ,IAAMC,MAAK,kBAAM,8EAE3BI,EAAY,SAAC,GAA8C,IAAjCC,EAAgC,EAA3CC,UAAsBC,EAAqB,EAArBA,MAAUC,EAAW,iBAC9D,OACE,cAAC,IAAD,2BACMA,GADN,IAEEC,OAAQ,SAACC,GAAD,OACNH,EACE,cAACF,EAAD,eAAeK,IAEf,cAAC,IAAD,CACEC,GAAI,CACFC,SAAU,cACVC,MAAO,CAAEC,KAAMJ,EAAMK,kBAS7BC,E,kDACJ,WAAYN,GAAQ,IAAD,8BACjB,cAAMA,IAYRO,kBAAoB,WAClB,MAAmD,EAAKP,MAAhDH,EAAR,EAAQA,MAAOW,EAAf,EAAeA,mBAAoBC,EAAnC,EAAmCA,YAEnCC,SAAOC,GAAG,gCAAgC,WACxCF,EAAYZ,MAEda,SAAOC,GAAG,gCAAgC,WACxCH,QCtBsB,WAC1B,IAAII,EAAYC,IAEhB,GAAIC,aAAaC,QAAQ,aAAc,CACrC,IAAMC,EAAaF,aAAaC,QAAQ,aAErB,QAAfC,GAAuC,QAAfA,IAC1BJ,EAAYI,GAGhB,MAAO,CACLJ,YACAK,MAAqB,QAAdL,GDRWM,GAEJD,OACZE,SAASC,KAAKC,UAAUC,IAAI,OAC5BH,SAASC,KAAKC,UAAUE,OAAO,SAE/BJ,SAASC,KAAKC,UAAUC,IAAI,OAC5BH,SAASC,KAAKC,UAAUE,OAAO,QAThB,E,wDAwBnB,WACEb,SAAOc,IAAI,gCACXd,SAAOc,IAAI,kC,oBAGb,WACE,IAAQ3B,EAAU4B,KAAKzB,MAAfH,MAER,OACE,qBAAK6B,UAAU,QAAf,SACE,qCACE,cAAC,IAAD,IACA,cAAC,WAAD,CAAUC,SAAU,qBAAKD,UAAU,YAAnC,SACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,EAAD,CAAW9B,UAAWH,EAASmC,KAAK,OAAO/B,MAAOA,IAClD,cAAC,IAAD,CACE+B,KAAK,QACL7B,OAAQ,SAACC,GAAD,OAAW,cAACT,EAAD,eAAcS,OAEnC,cAAC,IAAD,CACE6B,OAAK,EACLD,KAAK,SACL7B,OAAQ,SAACC,GAAD,OAAW,cAACR,EAAD,eAAeQ,OAEpC,cAAC,IAAD,CACE6B,OAAK,EACLD,KAAK,IACL7B,OAAQ,SAACC,GAAD,OAAW,cAACZ,EAAD,eAAcY,OAEnC,cAAC,IAAD,CAAUC,GAAG,2B,GAvDX6B,iBAsEZC,EAAmB,CAAEtB,iBAAauB,cAAUxB,yBAEnCyB,uBAPS,SAAC,GAGvB,MAAO,CAAEpC,MAH2B,EAAXqC,KACjBrC,SAM8BkC,EAAzBE,CAA2C3B,I,gCE9G1D,yFAEM6B,EAAoB,WACxB,OACE,cAAC,IAAD,CACEC,UAAW,IACXV,UAAU,OACVW,cAAY,EACZC,WAAS,EACTC,iBAAiB,EACjBC,aAAW,EACXC,kBAAgB,EAChBC,cAAY,EACZC,SAAS,cACTC,KAAK,EACLC,WAAYC,OAKZC,EAAiB,WACrB,OACE,uBAAMrB,UAAU,yBAAhB,UACE,sBAAMA,UAAU,YAChB,sBAAMA,UAAU,YAChB,sBAAMA,UAAU","file":"static/js/26.35e3ddef.chunk.js","sourcesContent":["import React, { PureComponent, Suspense } from \"react\";\r\nimport {\r\n  Redirect,\r\n  Route,\r\n  BrowserRouter as Router,\r\n  Switch,\r\n} from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { getLaboratoryTests, getUsers, refreshUser } from \"./redux/actions\";\r\nimport { socket } from \"./AppRenderer\";\r\nimport { getDirection } from \"./helpers/Utils\";\r\nimport { ToastifyContainer } from \"./components/Miscellaneous\";\r\n\r\nconst ViewMain = React.lazy(() => import(\"./views\"));\r\nconst ViewAuth = React.lazy(() => import(\"./views/auth\"));\r\nconst ViewError = React.lazy(() => import(\"./views/error\"));\r\nconst ViewApp = React.lazy(() => import(\"./views/app\"));\r\n\r\nconst AuthRoute = ({ component: Component, token, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        token ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/auth/login\",\r\n              state: { from: props.location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nclass App extends PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    const direction = getDirection();\r\n\r\n    if (direction.isRtl) {\r\n      document.body.classList.add(\"rtl\");\r\n      document.body.classList.remove(\"ltr\");\r\n    } else {\r\n      document.body.classList.add(\"ltr\");\r\n      document.body.classList.remove(\"rtl\");\r\n    }\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    const { token, getLaboratoryTests, refreshUser } = this.props;\r\n\r\n    socket.on(\"users_authorizations_updated\", () => {\r\n      refreshUser(token);\r\n    });\r\n    socket.on(\"laboratory_test_data_updated\", () => {\r\n      getLaboratoryTests();\r\n    });\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    socket.off(\"users_authorizations_updated\");\r\n    socket.off(\"laboratory_test_data_updated\");\r\n  }\r\n\r\n  render() {\r\n    const { token } = this.props;\r\n\r\n    return (\r\n      <div className=\"h-100\">\r\n        <>\r\n          <ToastifyContainer />\r\n          <Suspense fallback={<div className=\"loading\" />}>\r\n            <Router>\r\n              <Switch>\r\n                <AuthRoute component={ViewApp} path=\"/app\" token={token} />\r\n                <Route\r\n                  path=\"/auth\"\r\n                  render={(props) => <ViewAuth {...props} />}\r\n                />\r\n                <Route\r\n                  exact\r\n                  path=\"/error\"\r\n                  render={(props) => <ViewError {...props} />}\r\n                />\r\n                <Route\r\n                  exact\r\n                  path=\"/\"\r\n                  render={(props) => <ViewMain {...props} />}\r\n                />\r\n                <Redirect to=\"/error\" />\r\n              </Switch>\r\n            </Router>\r\n          </Suspense>\r\n        </>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  const { token } = auth;\r\n\r\n  return { token };\r\n};\r\nconst mapActionToProps = { refreshUser, getUsers, getLaboratoryTests };\r\n\r\nexport default connect(mapStateToProps, mapActionToProps)(App);\r\n","import { defaultDirection } from '../constants/defaultValues';\r\n\r\nexport const mapOrder = (array, order, key) => {\r\n  array.sort(function (a, b) {\r\n    let A = a[key],\r\n      B = b[key];\r\n\r\n    if (order.indexOf(A + '') > order.indexOf(B + '')) {\r\n      return 1;\r\n    } else {\r\n      return -1;\r\n    }\r\n  });\r\n  return array;\r\n};\r\n\r\nexport const getDateWithFormat = () => {\r\n  const today = new Date();\r\n  let dd = today.getDate();\r\n  let mm = today.getMonth() + 1;\r\n  let yyyy = today.getFullYear();\r\n\r\n  if (dd < 10) {\r\n    dd = '0' + dd;\r\n  }\r\n  if (mm < 10) {\r\n    mm = '0' + mm;\r\n  }\r\n  return dd + '.' + mm + '.' + yyyy;\r\n};\r\n\r\nexport const getCurrentTime = () => {\r\n  const now = new Date();\r\n\r\n  return now.getHours() + ':' + now.getMinutes();\r\n};\r\n\r\nexport const getDirection = () => {\r\n  let direction = defaultDirection;\r\n\r\n  if (localStorage.getItem('direction')) {\r\n    const localValue = localStorage.getItem('direction');\r\n\r\n    if (localValue === 'rtl' || localValue === 'ltr') {\r\n      direction = localValue;\r\n    }\r\n  }\r\n  return {\r\n    direction,\r\n    isRtl: direction === 'rtl',\r\n  };\r\n};\r\n\r\nexport const setDirection = (localValue) => {\r\n  let direction = 'ltr';\r\n\r\n  if (localValue === 'rtl' || localValue === 'ltr') {\r\n    direction = localValue;\r\n  }\r\n  localStorage.setItem('direction', direction);\r\n};\r\n","import { Flip, ToastContainer } from 'react-toastify';\r\n\r\nconst ToastifyContainer = () => {\r\n  return (\r\n    <ToastContainer\r\n      autoClose={5000}\r\n      className=\"mr-4\"\r\n      closeOnClick\r\n      draggable\r\n      hideProgressBar={false}\r\n      newestOnTop\r\n      pauseOnFocusLoss\r\n      pauseOnHover\r\n      position=\"bottom-left\"\r\n      rtl={false}\r\n      transition={Flip}\r\n    />\r\n  );\r\n};\r\n\r\nconst LoadingSpinner = () => {\r\n  return (\r\n    <span className=\"spinner d-inline-block\">\r\n      <span className=\"bounce1\" />\r\n      <span className=\"bounce2\" />\r\n      <span className=\"bounce3\" />\r\n    </span>\r\n  );\r\n};\r\n\r\nexport { ToastifyContainer, LoadingSpinner };\r\n"],"sourceRoot":""}